<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HikoGUI: hikogui/src/TTauri/Foundation/mat.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="version_dropdown.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HikoGUI
   </div>
   <div id="projectbrief">A low latency retained GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9f87200816c308c69831370edcfdd251.html">TTauri</a></li><li class="navelem"><a class="el" href="dir_7fadd25447c0a04ed6951ae08d30b831.html">Foundation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">mat.hpp</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2020 Pokitec</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// All rights reserved.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;TTauri/Foundation/vec.hpp&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;TTauri/Foundation/aarect.hpp&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;TTauri/Foundation/rect.hpp&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;fmt/format.h&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;fmt/ostream.h&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;ostream&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="keyword">namespace </span>tt {</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="foldopen" id="foldopen00018" data-start="{" data-end="};">
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno"><a class="line" href="a03497.html">   18</a></span><span class="keyword">class </span><a class="code hl_class" href="a03497.html">mat</a> {</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    <a class="code hl_class" href="a04097.html">vec</a> col0;</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    <a class="code hl_class" href="a04097.html">vec</a> col1;</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    <a class="code hl_class" href="a04097.html">vec</a> col2;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    <a class="code hl_class" href="a04097.html">vec</a> col3;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">   27</a></span>    tt_force_inline <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a>() noexcept {}</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    tt_force_inline <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a>(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    tt_force_inline <a class="code hl_class" href="a03497.html">mat</a> &amp;operator=(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    tt_force_inline <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a>(<a class="code hl_class" href="a03497.html">mat</a> &amp;&amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    tt_force_inline <a class="code hl_class" href="a03497.html">mat</a> &amp;operator=(<a class="code hl_class" href="a03497.html">mat</a> &amp;&amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="foldopen" id="foldopen00035" data-start="{" data-end="}">
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="a03497.html#a7609ea93b35c7c047e0d087ca2028feb">   35</a></span>    tt_force_inline <a class="code hl_function" href="a03497.html#a7609ea93b35c7c047e0d087ca2028feb">mat</a>(<a class="code hl_class" href="a04097.html">vec</a> col0, <a class="code hl_class" href="a04097.html">vec</a> col1, <a class="code hl_class" href="a04097.html">vec</a> col2, <a class="code hl_class" href="a04097.html">vec</a> col3=<a class="code hl_class" href="a04097.html">vec</a>{0.0f, 0.0f, 0.0f, 1.0f}) <span class="keyword">noexcept</span> :</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>        col0(col0), col1(col1), col2(col2), col3(col3) {}</div>
</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="foldopen" id="foldopen00043" data-start="{" data-end="}">
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="a03497.html#a2b8d85aef5976297128b048e3ed50bbf">   43</a></span>    tt_force_inline <a class="code hl_function" href="a03497.html#a2b8d85aef5976297128b048e3ed50bbf">mat</a>(</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>        <span class="keywordtype">float</span> i00, <span class="keywordtype">float</span> i10, <span class="keywordtype">float</span> i20, <span class="keywordtype">float</span> i30,</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>        <span class="keywordtype">float</span> i01, <span class="keywordtype">float</span> i11, <span class="keywordtype">float</span> i21, <span class="keywordtype">float</span> i31,</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>        <span class="keywordtype">float</span> i02, <span class="keywordtype">float</span> i12, <span class="keywordtype">float</span> i22, <span class="keywordtype">float</span> i32,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>        <span class="keywordtype">float</span> i03, <span class="keywordtype">float</span> i13, <span class="keywordtype">float</span> i23, <span class="keywordtype">float</span> i33</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    ) :</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>        col0(i00, i01, i02, i03),</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        col1(i10, i11, i12, i13),</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        col2(i20, i21, i22, i23),</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        col3(i30, i31, i32, i33) {}</div>
</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="foldopen" id="foldopen00056" data-start="{" data-end="};">
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="a03501.html">   56</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="a03501.html">S</a> {</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        <a class="code hl_class" href="a04097.html">vec</a> s;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        <span class="keyword">explicit</span> <a class="code hl_struct" href="a03501.html">S</a>(<a class="code hl_class" href="a04097.html">vec</a> rhs) noexcept :</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>            s(rhs)</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        {</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>            tt_assume(rhs.is_point());</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        <a class="code hl_struct" href="a03501.html">S</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z=1.0f) noexcept :</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>            s(x, y, z, 1.0f) {}</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="foldopen" id="foldopen00070" data-start="{" data-end="}">
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="a03501.html#af637c595a4aa31ba3ae7939b1ce47d02">   70</a></span>        <span class="keyword">static</span> <a class="code hl_struct" href="a03501.html">S</a> <a class="code hl_function" href="a03501.html#af637c595a4aa31ba3ae7939b1ce47d02">uniform2D</a>(<a class="code hl_class" href="a04097.html">vec</a> haystack, <a class="code hl_class" href="a04097.html">vec</a> needle) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>            tt_assume(haystack.x() != 0.0f &amp;&amp; haystack.y() != 0.0f);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>            tt_assume(needle.x() != 0.0f &amp;&amp; needle.y() != 0.0f);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>            ttlet non_uniform_scale = haystack.xyxy() / needle.xyxy();</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>            ttlet uniform_scale = <a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/algorithm/min.html">std::min</a>(non_uniform_scale.x(), non_uniform_scale.y());</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03501.html">S</a>{<a class="code hl_class" href="a04097.html">vec</a>{uniform_scale, uniform_scale, 1.0f, 1.0f}};</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        }</div>
</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="foldopen" id="foldopen00081" data-start="{" data-end="}">
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="a03501.html#a43127df6510bb128c6975e4152cd42b7">   81</a></span>        <span class="keyword">operator</span> <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a> () const noexcept {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>            tt_assume(s.is_point());</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>            <span class="keywordflow">return</span> { s.x000(), s._0y00(), s._00z0(), s._000w() };</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        }</div>
</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03501.html">S</a> operator*(<a class="code hl_struct" href="a03501.html">S</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03501.html">S</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03501.html">S</a>{lhs.s * rhs.s};</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        }</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>        [[nodiscard]] <span class="keyword">friend</span> vec operator*(S <span class="keyword">const</span> &amp;lhs, vec <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            <span class="keywordflow">return</span> vec{lhs.s * rhs};</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        }</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="foldopen" id="foldopen00097" data-start="{" data-end="};">
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="a03501.html#a2ec1987742c2d922985296f1186ba930">   97</a></span>        [[nodiscard]] tt_force_inline <span class="keyword">friend</span> <a class="code hl_class" href="a03233.html">aarect</a> <a class="code hl_friend" href="a03501.html#a2ec1987742c2d922985296f1186ba930">operator*</a>(<a class="code hl_struct" href="a03501.html">S</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03233.html">aarect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="a03233.html#ad2cc25ff0dd745f059d806ae619c3b71">aarect::p0p3</a>(lhs.s * rhs.p0(), lhs.s * rhs.p3());</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        }</div>
</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03625.html">rect</a> operator*(<a class="code hl_struct" href="a03501.html">S</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03625.html">rect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>            <span class="keywordflow">return</span> <a class="code hl_class" href="a03625.html">rect</a>{</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>                lhs.s * rhs.corner&lt;0&gt;(),</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                lhs.s * rhs.corner&lt;1&gt;(),</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                lhs.s * rhs.corner&lt;2&gt;(),</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>                lhs.s * rhs.corner&lt;3&gt;()</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            };</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="foldopen" id="foldopen00112" data-start="{" data-end="};">
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="a03501.html#a6bf5740e41fff532c76d769b226d02a3">  112</a></span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03501.html">S</a> <a class="code hl_friend" href="a03501.html#a6bf5740e41fff532c76d769b226d02a3">operator~</a>(<a class="code hl_struct" href="a03501.html">S</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03501.html">S</a>{reciprocal(rhs.s)};</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        }</div>
</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    };</div>
</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="foldopen" id="foldopen00119" data-start="{" data-end="};">
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="a03505.html">  119</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="a03505.html">T</a> {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        <a class="code hl_class" href="a04097.html">vec</a> t;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <a class="code hl_struct" href="a03505.html">T</a>() noexcept : t() {}</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <a class="code hl_struct" href="a03505.html">T</a>(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <a class="code hl_struct" href="a03505.html">T</a>(<a class="code hl_struct" href="a03505.html">T</a> &amp;&amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        <a class="code hl_struct" href="a03505.html">T</a> &amp;operator=(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        <a class="code hl_struct" href="a03505.html">T</a> &amp;operator=(<a class="code hl_struct" href="a03505.html">T</a> &amp;&amp;rhs) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        <span class="keyword">explicit</span> <a class="code hl_struct" href="a03505.html">T</a>(<a class="code hl_class" href="a04097.html">vec</a> rhs) noexcept :</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>            t(rhs) { tt_assume(rhs.is_vector()); }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <a class="code hl_struct" href="a03505.html">T</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z=0.0f) noexcept :</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            t(x, y, z) {}</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <span class="keyword">operator</span> <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a> () <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>            tt_assume(t.is_vector());</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>            <span class="keywordflow">return</span> { t._1000(), t._0100(), t._0010(), t.xyz1() };</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        }</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03505.html">T</a> operator*(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03505.html">T</a>{lhs.t + rhs.t};</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> operator*(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03501.html">mat::S</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            <span class="keywordflow">return</span> { rhs.s.x000(), rhs.s._0y00(), rhs.s._00z0(), lhs.t.xyz1() };</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        }</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> operator*(<a class="code hl_struct" href="a03501.html">mat::S</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>            <span class="keywordflow">return</span> { lhs.s.x000(), lhs.s._0y00(), lhs.s._00z0(), lhs.s * rhs.t.xyz1() };</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        }</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a04097.html">vec</a> operator*(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a04097.html">vec</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>            <span class="keywordflow">return</span> <a class="code hl_class" href="a04097.html">vec</a>{lhs.t + rhs};</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        }</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="foldopen" id="foldopen00157" data-start="{" data-end="};">
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="a03505.html#a60daf5ae198634e0bd206678ce463faf">  157</a></span>        [[nodiscard]] tt_force_inline <span class="keyword">friend</span> <a class="code hl_class" href="a03625.html">rect</a> <a class="code hl_friend" href="a03505.html#a60daf5ae198634e0bd206678ce463faf">operator*</a>(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03233.html">aarect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>            <span class="keywordflow">return</span> <a class="code hl_class" href="a03625.html">rect</a>{</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                lhs.t + rhs.corner&lt;0&gt;(),</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>                lhs.t + rhs.corner&lt;1&gt;(),</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>                lhs.t + rhs.corner&lt;2&gt;(),</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>                lhs.t + rhs.corner&lt;3&gt;()</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>            };</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        }</div>
</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03625.html">rect</a> operator*(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03625.html">rect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>            <span class="keywordflow">return</span> <a class="code hl_class" href="a03625.html">rect</a>{</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                lhs.t + rhs.corner&lt;0&gt;(),</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>                lhs.t + rhs.corner&lt;1&gt;(),</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>                lhs.t + rhs.corner&lt;2&gt;(),</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>                lhs.t + rhs.corner&lt;3&gt;()</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            };</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="foldopen" id="foldopen00177" data-start="{" data-end="};">
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno"><a class="line" href="a03505.html#a9e61969c778a5a42923cbde67ee94661">  177</a></span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03505.html">T</a> <a class="code hl_friend" href="a03505.html#a9e61969c778a5a42923cbde67ee94661">operator~</a>(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03505.html">T</a>{-rhs.t};</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        }</div>
</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    };</div>
</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="foldopen" id="foldopen00184" data-start="{" data-end="};">
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="a03509.html">  184</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="a03509.html">T2</a> {</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        <a class="code hl_class" href="a04097.html">vec</a> t;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <a class="code hl_struct" href="a03509.html">T2</a>() noexcept : t() {}</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="keyword">explicit</span> <a class="code hl_struct" href="a03509.html">T2</a>(<a class="code hl_class" href="a04097.html">vec</a> rhs) noexcept : t(rhs) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>            tt_assume(rhs.is_vector());</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            tt_assume(rhs.z() == 0.0f);</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <a class="code hl_struct" href="a03509.html">T2</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y) noexcept :</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>            t(x, y, 0.0f) {}</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <span class="keyword">operator</span> <a class="code hl_struct" href="a03505.html">mat::T</a> () <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03505.html">mat::T</a>{t};</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        }</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        <span class="keyword">operator</span> <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a> () <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            tt_assume(t.is_vector());</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>            <span class="keywordflow">return</span> { t._1000(), t._0100(), t._0010(), t.xyz1() };</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        }</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03509.html">T2</a> operator*(<a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03509.html">T2</a>{lhs.t + rhs.t};</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03505.html">mat::T</a> operator*(<a class="code hl_struct" href="a03505.html">mat::T</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03505.html">mat::T</a>{lhs.t + rhs.t};</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        }</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03505.html">mat::T</a> operator*(<a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03505.html">mat::T</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03505.html">mat::T</a>{lhs.t + rhs.t};</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        }</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> operator*(<a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03501.html">mat::S</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            <span class="keywordflow">return</span> { rhs.s.x000(), rhs.s._0y00(), rhs.s._00z0(), lhs.t.xyz1() };</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        }</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> operator*(<a class="code hl_struct" href="a03501.html">mat::S</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <span class="keywordflow">return</span> { lhs.s.x000(), lhs.s._0y00(), lhs.s._00z0(), lhs.s * rhs.t.xyz1() };</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a04097.html">vec</a> operator*(<a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a04097.html">vec</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            <span class="keywordflow">return</span> <a class="code hl_class" href="a04097.html">vec</a>{lhs.t + rhs};</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        }</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03233.html">aarect</a> operator*(<a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03233.html">aarect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="a03233.html#ad2cc25ff0dd745f059d806ae619c3b71">aarect::p0p3</a>(lhs.t + rhs.p0(), lhs.t + rhs.p3());</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03625.html">rect</a> operator*(<a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03625.html">rect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <span class="keywordflow">return</span> <a class="code hl_class" href="a03625.html">rect</a>{</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                lhs.t + rhs.corner&lt;0&gt;(),</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                lhs.t + rhs.corner&lt;1&gt;(),</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                lhs.t + rhs.corner&lt;2&gt;(),</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                lhs.t + rhs.corner&lt;3&gt;()</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            };</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="foldopen" id="foldopen00245" data-start="{" data-end="};">
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="a03509.html#a0a6547d952a9e2002563d2bfda1af0b1">  245</a></span>        [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_struct" href="a03509.html">T2</a> <a class="code hl_friend" href="a03509.html#a0a6547d952a9e2002563d2bfda1af0b1">operator~</a>(<a class="code hl_struct" href="a03509.html">T2</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="a03509.html">T2</a>{-rhs.t};</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        }</div>
</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    };</div>
</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> size() noexcept { <span class="keywordflow">return</span> 4; }</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> I&gt;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    [[nodiscard]] tt_force_inline vec &amp;get() noexcept {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <span class="keyword">static_assert</span>(<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> &lt;= 3);</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> == 0) {</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>            <span class="keywordflow">return</span> col0;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> == 1) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            <span class="keywordflow">return</span> col1;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> == 2) {</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            <span class="keywordflow">return</span> col2;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <span class="keywordflow">return</span> col3;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> I&gt;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    [[nodiscard]] tt_force_inline vec get() const noexcept {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        <span class="keyword">static_assert</span>(<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> &lt;= 3);</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> == 0) {</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            <span class="keywordflow">return</span> col0;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> == 1) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            <span class="keywordflow">return</span> col1;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a> == 2) {</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            <span class="keywordflow">return</span> col2;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>            <span class="keywordflow">return</span> col3;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        }</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="foldopen" id="foldopen00284" data-start="{" data-end="}">
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="a03497.html#a894fbef9c46a5c95416d05827553ae39">  284</a></span>    [[nodiscard]] <span class="keywordtype">bool</span> <a class="code hl_function" href="a03497.html#a894fbef9c46a5c95416d05827553ae39">is_z_rot90</a>() const noexcept {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        ttlet xyxy = col0.xy00() + col1._00xy();</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        ttlet result = eq(xyxy, <a class="code hl_class" href="a04097.html">vec</a>{});</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        <span class="keywordflow">return</span> (result == 0b1001) || (result == 0b0110);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    }</div>
</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span> </div>
<div class="foldopen" id="foldopen00293" data-start="{" data-end="};">
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="a03497.html#ac22ce0b727ded533ee54311c0d9f596b">  293</a></span>    [[nodiscard]] tt_force_inline <span class="keyword">friend</span> <a class="code hl_class" href="a04097.html">vec</a> <a class="code hl_friend" href="a03497.html#ac22ce0b727ded533ee54311c0d9f596b">operator*</a>(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a04097.html">vec</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="keywordflow">return</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            (lhs.col0 * rhs.xxxx() + lhs.col1 * rhs.yyyy()) +</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            (lhs.col2 * rhs.zzzz() + lhs.col3 * rhs.wwww());</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    }</div>
</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="foldopen" id="foldopen00301" data-start="{" data-end="};">
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="a03497.html#a10c78292a6ff22b3dab29e60b69b6a2e">  301</a></span>    [[nodiscard]] tt_force_inline <span class="keyword">friend</span> <a class="code hl_class" href="a03625.html">rect</a> <a class="code hl_friend" href="a03497.html#a10c78292a6ff22b3dab29e60b69b6a2e">operator*</a>(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03233.html">aarect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="a03625.html">rect</a>{</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>            lhs * rhs.<a class="code hl_function" href="a03625.html#a33fd1158736827efc2637b2c6daae863">corner</a>&lt;0&gt;(),</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            lhs * rhs.corner&lt;1&gt;(),</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            lhs * rhs.corner&lt;2&gt;(),</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>            lhs * rhs.corner&lt;3&gt;()</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        };</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    }</div>
</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="foldopen" id="foldopen00312" data-start="{" data-end="};">
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="a03497.html#ac8d84a0fe4c9f50737d7887727a2dc48">  312</a></span>    [[nodiscard]] tt_force_inline <span class="keyword">friend</span> <a class="code hl_class" href="a03625.html">rect</a> <a class="code hl_friend" href="a03497.html#ac8d84a0fe4c9f50737d7887727a2dc48">operator*</a>(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03625.html">rect</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="a03625.html">rect</a>{</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>            lhs * rhs.<a class="code hl_function" href="a03625.html#a33fd1158736827efc2637b2c6daae863">corner</a>&lt;0&gt;(),</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            lhs * rhs.corner&lt;1&gt;(),</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            lhs * rhs.corner&lt;2&gt;(),</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            lhs * rhs.corner&lt;3&gt;()</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        };</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    }</div>
</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="foldopen" id="foldopen00323" data-start="{" data-end="};">
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno"><a class="line" href="a03497.html#a2ec44060fa27de333aa13190699d2c1b">  323</a></span>    [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_friend" href="a03497.html#a2ec44060fa27de333aa13190699d2c1b">operator*</a>(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <span class="keywordflow">return</span> {lhs * rhs.col0, lhs * rhs.col1, lhs * rhs.col2, lhs * rhs.col3};</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    }</div>
</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="};">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="a03497.html#ad90111e92ba0a0e2e5f593c63bc9e69c">  329</a></span>    [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_friend" href="a03497.html#ad90111e92ba0a0e2e5f593c63bc9e69c">operator*</a>(<a class="code hl_struct" href="a03501.html">S</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>        <span class="keywordflow">return</span> {lhs.s * rhs.col0, lhs.s * rhs.col1, lhs.s * rhs.col2, lhs.s * rhs.col3};</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    }</div>
</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="foldopen" id="foldopen00335" data-start="{" data-end="};">
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno"><a class="line" href="a03497.html#a2a8296d7b61a9b60e95ca97bf381ad89">  335</a></span>    [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_friend" href="a03497.html#a2a8296d7b61a9b60e95ca97bf381ad89">operator*</a>(<a class="code hl_struct" href="a03505.html">T</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="keywordflow">return</span> {rhs.col0, rhs.col1, rhs.col2, lhs.t + rhs.col3};</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    }</div>
</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="foldopen" id="foldopen00341" data-start="{" data-end="};">
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno"><a class="line" href="a03497.html#acc5ff266bb6c181624ec2eb4085e2435">  341</a></span>    [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_friend" href="a03497.html#acc5ff266bb6c181624ec2eb4085e2435">transpose</a>(<a class="code hl_class" href="a03497.html">mat</a> rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="keyword">auto</span> tmp = <a class="code hl_friend" href="a03497.html#acc5ff266bb6c181624ec2eb4085e2435">transpose</a>(rhs.col0, rhs.col1, rhs.col2, rhs.col3);</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordflow">return</span> {std::get&lt;0&gt;(tmp), std::get&lt;1&gt;(tmp), std::get&lt;2&gt;(tmp), std::get&lt;3&gt;(tmp)};</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    }</div>
</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span> </div>
<div class="foldopen" id="foldopen00348" data-start="{" data-end="};">
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno"><a class="line" href="a03497.html#a49db41c04e6ae06d290301102dc42a6d">  348</a></span>    [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_friend" href="a03497.html#a49db41c04e6ae06d290301102dc42a6d">operator~</a>(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;rhs) {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <span class="comment">//                   rc</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <span class="comment">//var s0 : Number = i00 * i11 - </span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        <span class="comment">//                  i10 * i01;</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>        <span class="comment">//var c0 : Number = i20 * i31 -</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        <span class="comment">//                  i30 * i21;</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        ttlet s0c0 = rhs.col0 * rhs.col1.yxwz();</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        <span class="comment">//var s1 : Number = i00 * i12 -</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="comment">//                  i10 * i02;</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="comment">//var c1 : Number = i20 * i32 -</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        <span class="comment">//                  i30 * i22;</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        ttlet s1c1 = rhs.col0 * rhs.col2.yxwz();</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        ttlet s0c0s1c1 = hsub(s0c0, s1c1);</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <span class="comment">//var s2 : Number = i00 * i13 -</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <span class="comment">//                  i10 * i03;</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="comment">//var c2 : Number = i20 * i33 -</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        <span class="comment">//                  i30 * i23;</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        ttlet s2c2 = rhs.col0 * rhs.col3.yxwz();</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="comment">//var s3 : Number = i01 * i12 -</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        <span class="comment">//                  i11 * i02;</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <span class="comment">//var c3 : Number = i21 * i32 -</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        <span class="comment">//                  i31 * i22;</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        ttlet s3c3 = rhs.col1 * rhs.col2.yxwz();</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        ttlet s2c2s3c3 = hsub(s2c2, s3c3);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <span class="comment">//var s4 : Number = i01 * i13 -</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        <span class="comment">//                  i11 * i03;</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <span class="comment">//var c4 : Number = i21 * i33 -</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>        <span class="comment">//                  i31 * i23;</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        ttlet s4c4 = rhs.col1 * rhs.col3.yxwz();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        <span class="comment">//var s5 : Number = i02 * i13 -</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        <span class="comment">//                  i12 * i03;</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <span class="comment">//var c5 : Number = i22 * i33 -</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <span class="comment">//                  i32 * i23;</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        ttlet s5c5 = rhs.col2 * rhs.col3.yxwz();</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        ttlet s4c4s5c5 = hsub(s4c4, s5c5);</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        <span class="comment">// det = (s0 * c5 +</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="comment">//       -s1 * c4 +</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        <span class="comment">//        s2 * c3 +</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="comment">//        s3 * c2 +</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        <span class="comment">//       -s4 * c1 +</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        <span class="comment">//        s5 * c0)</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>        ttlet s0123 = s0c0s1c1.xz00() + s2c2s3c3._00xz();</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        ttlet s45__ = s4c4s5c5.xz00();</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        ttlet c5432 = s4c4s5c5.wy00() + s2c2s3c3._00wy();</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        ttlet c10__ = s0c0s1c1.wy00();</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        ttlet det_prod_half0 = neg&lt;0,1,0,0&gt;(s0123 * c5432);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        ttlet det_prod_half1 = neg&lt;1,0,0,0&gt;(s45__ * c10__);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        ttlet det_sum0 = hadd(det_prod_half0, det_prod_half1);</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        ttlet det_sum1 = hadd(det_sum0, det_sum0);</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        ttlet det = hadd(det_sum1, det_sum1).xxxx();</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        <span class="keywordflow">if</span> (det.x() == 0.0f) {</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            TTAURI_THROW(<a class="code hl_class" href="a03377.html">math_error</a>(<span class="stringliteral">&quot;Divide by zero&quot;</span>));</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        }</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        ttlet invdet = reciprocal(det);</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        ttlet t = <a class="code hl_friend" href="a03497.html#acc5ff266bb6c181624ec2eb4085e2435">transpose</a>(rhs);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        <span class="comment">//   rc     rc          rc          rc</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        <span class="comment">//m.i00 = (i11 *  c5 + i12 * -c4 + i13 *  c3) * invdet;</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="comment">//m.i10 = (i10 * -c5 + i12 *  c2 + i13 * -c1) * invdet;</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        <span class="comment">//m.i20 = (i10 *  c4 + i11 * -c2 + i13 *  c0) * invdet;</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        <span class="comment">//m.i30 = (i10 * -c3 + i11 *  c1 + i12 * -c0) * invdet;</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        <span class="keyword">auto</span> tmp_c5543 = neg&lt;0,1,0,1&gt;(c5432.xxyz());</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="keyword">auto</span> tmp_c4221 = neg&lt;1,0,1,0&gt;(c5432.yww0() + c10__._000x());</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <span class="keyword">auto</span> tmp_c3100 = neg&lt;0,1,0,1&gt;(c5432.z000() + c10__._0xyy());</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        ttlet inv_col0 = (</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>            (t.col1.yxxx() * tmp_c5543) +</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            (t.col1.zzyy() * tmp_c4221) +</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>            (t.col1.wwwz() * tmp_c3100)</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        ) * invdet;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>        <span class="comment">//m.i01 = (i01 * -c5 + i02 *  c4 + i03 * -c3) * invdet;</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        <span class="comment">//m.i11 = (i00 *  c5 + i02 * -c2 + i03 *  c1) * invdet;</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        <span class="comment">//m.i21 = (i00 * -c4 + i01 *  c2 + i03 * -c0) * invdet;</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <span class="comment">//m.i31 = (i00 *  c3 + i01 * -c1 + i02 *  c0) * invdet;</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        tmp_c5543 = -tmp_c5543;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        tmp_c4221 = -tmp_c4221;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        tmp_c3100 = -tmp_c3100;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        ttlet inv_col1 = (</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            (t.col0.yxxx() * tmp_c5543) +</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>            (t.col0.zzyy() * tmp_c4221) +</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>            (t.col0.wwwz() * tmp_c3100)</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        ) * invdet;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span> </div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="comment">//m.i02 = (i31 *  s5 + i32 * -s4 + i33 *  s3) * invdet;</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>        <span class="comment">//m.i12 = (i30 * -s5 + i32 *  s2 + i33 * -s1) * invdet;</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <span class="comment">//m.i22 = (i30 *  s4 + i31 * -s2 + i33 *  s0) * invdet;</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="comment">//m.i32 = (i30 * -s3 + i31 *  s1 + i32 * -s0) * invdet;</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        <span class="keyword">auto</span> tmp_s5543 = neg&lt;0,1,0,1&gt;(s45__.yyx0() + s0123._000w());</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        <span class="keyword">auto</span> tmp_s4221 = neg&lt;1,0,1,0&gt;(s45__.x000() + s0123._0zzy());</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>        <span class="keyword">auto</span> tmp_s3100 = neg&lt;0,1,0,1&gt;(s0123.wyxx());</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        ttlet inv_col2 = (</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>            (t.col3.yxxx() * tmp_s5543) +</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            (t.col3.zzyy() * tmp_s4221) +</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            (t.col3.wwwz() * tmp_s3100)</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        ) * invdet;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span> </div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <span class="comment">//m.i03 = (i21 * -s5 + i22 *  s4 + i23 * -s3) * invdet;</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        <span class="comment">//m.i13 = (i20 *  s5 + i22 * -s2 + i23 *  s1) * invdet;</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        <span class="comment">//m.i23 = (i20 * -s4 + i21 *  s2 + i23 * -s0) * invdet;</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        <span class="comment">//m.i33 = (i20 *  s3 + i21 * -s1 + i22 *  s0) * invdet;</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        tmp_s5543 = -tmp_s5543;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        tmp_s4221 = -tmp_s4221;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        tmp_s3100 = -tmp_s3100;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        ttlet inv_col3 = (</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>            (t.col2.yxxx() * tmp_s5543) +</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>            (t.col2.zzyy() * tmp_s4221) +</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>            (t.col2.wwwz() * tmp_s3100)</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        ) * invdet;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        <span class="keywordflow">return</span> {inv_col0, inv_col1, inv_col2, inv_col3};</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    }</div>
</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    [[nodiscard]] <span class="keyword">friend</span> <span class="keywordtype">bool</span> operator==(<a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_class" href="a03497.html">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>        <span class="keywordflow">return</span> lhs.col0 == rhs.col0 &amp;&amp; lhs.col1 == rhs.col1 &amp;&amp; lhs.col2 == rhs.col2 &amp;&amp; lhs.col3 == rhs.col3;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    }</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    [[nodiscard]] <span class="keyword">friend</span> <span class="keywordtype">bool</span> operator!=(<a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a> <span class="keyword">const</span> &amp;lhs, <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>        <span class="keywordflow">return</span> !(lhs == rhs);</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    }</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span> </div>
<div class="foldopen" id="foldopen00482" data-start="{" data-end="}">
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno"><a class="line" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">  482</a></span>    [[nodiscard]] <span class="keyword">static</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_function" href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">I</a>() noexcept {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>        <a class="code hl_class" href="a04097.html">vec</a> tmp;</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        <span class="keywordflow">return</span> { tmp._1000(), tmp._0100(), tmp._0010(), tmp._0001() };</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    }</div>
</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    [[nodiscard]] <span class="keyword">static</span> <a class="code hl_class" href="a03497.html">mat</a> RGBtoXYZ(</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        <span class="keywordtype">float</span> wx, <span class="keywordtype">float</span> wy,</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>        <span class="keywordtype">float</span> rx, <span class="keywordtype">float</span> ry,</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        <span class="keywordtype">float</span> gx, <span class="keywordtype">float</span> gy,</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>        <span class="keywordtype">float</span> bx, <span class="keywordtype">float</span> by) <span class="keyword">noexcept</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        ttlet w = <a class="code hl_class" href="a04097.html">vec</a>{wx, wy, 1.0f - wx - wy};</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        ttlet r = vec{rx, ry, 1.0f - rx - ry};</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        ttlet g = vec{gx, gy, 1.0f - gx - gy};</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        ttlet b = vec{bx, by, 1.0f - bx - by};</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>        <span class="comment">// Calculate whitepoint&#39;s tristimulus values from coordinates</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        ttlet W = vec{</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>            1.0f * (w.x() / w.y()),</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>            1.0f,</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            1.0f * (w.z() / w.y())</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        };</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        <span class="comment">// C is the chromaticity matrix.</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        ttlet C = <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a>{r, g, b};</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        <span class="comment">// solve tristimulus sums.</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        ttlet S = mat::S{<a class="code hl_function" href="a04097.html#a0685a30564991a0f179f63b859dd544f">vec::point</a>(~C * W)};</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <span class="keywordflow">return</span> C * S;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    }</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="foldopen" id="foldopen00521" data-start="{" data-end="}">
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno"><a class="line" href="a03497.html#a5a3bddf1f4dd7f4d336f08d3ac927215">  521</a></span>    [[nodiscard]] <span class="keyword">static</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_function" href="a03497.html#a5a3bddf1f4dd7f4d336f08d3ac927215">shear</a>(<span class="keywordtype">float</span> _00, <span class="keywordtype">float</span> _01, <span class="keywordtype">float</span> _10, <span class="keywordtype">float</span> _11) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        ttlet c0 = <a class="code hl_class" href="a04097.html">vec</a>{_00, _10};</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        ttlet c1 = <a class="code hl_class" href="a04097.html">vec</a>{_01, _11};</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        <span class="keywordflow">return</span> { c0, c1, c0._0010(), c0._0001() };</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    }</div>
</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> N=2, <span class="keyword">typename</span> T, std::enable_if_t&lt;std::is_arithmetic_v&lt;T&gt;,<span class="keywordtype">int</span>&gt; = 0&gt;</div>
<div class="foldopen" id="foldopen00532" data-start="{" data-end="}">
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno"><a class="line" href="a03497.html#a6242bbefa1fe6a14c636201a86cba994">  532</a></span>    [[nodiscard]] <span class="keyword">static</span> <a class="code hl_class" href="a03497.html">mat</a> <a class="code hl_function" href="a03497.html#a6242bbefa1fe6a14c636201a86cba994">R</a>(<a class="code hl_struct" href="a03505.html">T</a> rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        ttlet s = sin(numeric_cast&lt;float&gt;(rhs));</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        ttlet c = cos(numeric_cast&lt;float&gt;(rhs));</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        ttlet tmp = <a class="code hl_class" href="a04097.html">vec</a>{c, s, -s};</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (N == 0) {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>            <span class="keywordflow">return</span> { tmp._1000(), tmp._0xy0(), tmp._0zx0(), tmp._0001() };</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (N == 1) {</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>            <span class="keywordflow">return</span> { tmp.x0z0(), tmp._0100(), tmp.x0y0(), tmp._0001() };</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>            <span class="keywordflow">return</span> { tmp.xy00(), tmp.zx00(), tmp._0010(), tmp._0001() };</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    }</div>
</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="foldopen" id="foldopen00552" data-start="{" data-end="}">
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno"><a class="line" href="a03497.html#ac6cd7a0724e46c82513873446adda5a0">  552</a></span>    [[nodiscard]] <span class="keyword">static</span> <a class="code hl_struct" href="a03505.html">mat::T</a> <a class="code hl_function" href="a03497.html#ac6cd7a0724e46c82513873446adda5a0">align</a>(<a class="code hl_class" href="a03233.html">aarect</a> haystack, <a class="code hl_class" href="a03233.html">aarect</a> needle, Alignment alignment) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="a03505.html">mat::T</a>{</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            <a class="code hl_function" href="a03233.html#ac9b0885fac07d9c2f44ce8ab3e0aecf1">aarect::_align</a>(haystack, needle, alignment).<a class="code hl_function" href="a03233.html#a7c205030955abd09379351efcd31be22">offset</a>() -</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>            needle.offset()</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        };</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    }</div>
</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    [[nodiscard]] <span class="keyword">static</span> <a class="code hl_class" href="a03497.html">mat</a> uniform2D_scale_and_translate(<a class="code hl_class" href="a03233.html">aarect</a> haystack, <a class="code hl_class" href="a03233.html">aarect</a> needle, Alignment alignment) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        ttlet scale = <a class="code hl_function" href="a03501.html#af637c595a4aa31ba3ae7939b1ce47d02">S::uniform2D</a>(haystack.extent(), needle.extent());</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        ttlet scaled_needle = scale * needle;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        ttlet translation = <a class="code hl_function" href="a03497.html#ac6cd7a0724e46c82513873446adda5a0">align</a>(haystack, scaled_needle, alignment);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        <span class="keywordflow">return</span> translation * scale;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    [[nodiscard]] <span class="keyword">friend</span> <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> to_string(<a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <span class="keywordflow">return</span> fmt::format(<span class="stringliteral">&quot;[{}, {}, {}, {}]&quot;</span>, rhs.col0, rhs.col1, rhs.col2, rhs.col3);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    }</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <span class="keyword">friend</span> <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a> &amp;operator&lt;&lt;(<a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a> &amp;lhs, <a class="code hl_function" href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">mat</a> <span class="keyword">const</span> &amp;rhs) <span class="keyword">noexcept</span> {</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        <span class="keywordflow">return</span> lhs &lt;&lt; to_string(rhs);</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    }</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>};</div>
</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span> </div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno"><a class="line" href="a03513.html">  576</a></span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> M&gt; <span class="keyword">struct </span><a class="code hl_struct" href="a03513.html">is_mat</a> : <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::false_type</a> {};</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno"><a class="line" href="a03517.html">  577</a></span><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code hl_struct" href="a03513.html">is_mat</a>&lt;<a class="code hl_class" href="a03497.html">mat</a>&gt; : <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::true_type</a> {};</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno"><a class="line" href="a03521.html">  578</a></span><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code hl_struct" href="a03513.html">is_mat</a>&lt;<a class="code hl_class" href="a03497.html">mat</a>::T&gt; : <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::true_type</a> {};</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno"><a class="line" href="a03525.html">  579</a></span><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code hl_struct" href="a03513.html">is_mat</a>&lt;<a class="code hl_class" href="a03497.html">mat</a>::T2&gt; : <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::true_type</a> {};</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno"><a class="line" href="a03529.html">  580</a></span><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span><a class="code hl_struct" href="a03513.html">is_mat</a>&lt;<a class="code hl_class" href="a03497.html">mat</a>::S&gt; : <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::true_type</a> {};</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> M&gt;</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span><span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> is_mat_v = <a class="code hl_struct" href="a03513.html">is_mat&lt;M&gt;::value</a>;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span> </div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>}</div>
<div class="ttc" id="aa03233_html"><div class="ttname"><a href="a03233.html">tt::aarect</a></div><div class="ttdoc">Class which represents an axis-aligned rectangle.</div><div class="ttdef"><b>Definition</b> aarect.hpp:13</div></div>
<div class="ttc" id="aa03233_html_a7c205030955abd09379351efcd31be22"><div class="ttname"><a href="a03233.html#a7c205030955abd09379351efcd31be22">tt::aarect::offset</a></div><div class="ttdeci">tt_force_inline vec offset() const noexcept</div><div class="ttdoc">Get vector from origin to the bottom-left corner.</div><div class="ttdef"><b>Definition</b> aarect.hpp:177</div></div>
<div class="ttc" id="aa03233_html_ac9b0885fac07d9c2f44ce8ab3e0aecf1"><div class="ttname"><a href="a03233.html#ac9b0885fac07d9c2f44ce8ab3e0aecf1">tt::aarect::_align</a></div><div class="ttdeci">static aarect _align(aarect outside, aarect inside, Alignment alignment) noexcept</div><div class="ttdoc">Need to call the hiden friend function from within another class.</div><div class="ttdef"><b>Definition</b> aarect.hpp:265</div></div>
<div class="ttc" id="aa03233_html_ad2cc25ff0dd745f059d806ae619c3b71"><div class="ttname"><a href="a03233.html#ad2cc25ff0dd745f059d806ae619c3b71">tt::aarect::p0p3</a></div><div class="ttdeci">static tt_force_inline aarect p0p3(vec const &amp;v) noexcept</div><div class="ttdoc">Create aarect from packed p0p3 coordinates.</div><div class="ttdef"><b>Definition</b> aarect.hpp:75</div></div>
<div class="ttc" id="aa03377_html"><div class="ttname"><a href="a03377.html">tt::sub_error</a></div><div class="ttdef"><b>Definition</b> exceptions.hpp:154</div></div>
<div class="ttc" id="aa03497_html"><div class="ttname"><a href="a03497.html">tt::mat</a></div><div class="ttdoc">A 4x4 matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:18</div></div>
<div class="ttc" id="aa03497_html_a10c78292a6ff22b3dab29e60b69b6a2e"><div class="ttname"><a href="a03497.html#a10c78292a6ff22b3dab29e60b69b6a2e">tt::mat::operator*</a></div><div class="ttdeci">tt_force_inline friend rect operator*(mat const &amp;lhs, aarect const &amp;rhs) noexcept</div><div class="ttdoc">Matrix/aarect multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:301</div></div>
<div class="ttc" id="aa03497_html_a2a8296d7b61a9b60e95ca97bf381ad89"><div class="ttname"><a href="a03497.html#a2a8296d7b61a9b60e95ca97bf381ad89">tt::mat::operator*</a></div><div class="ttdeci">friend mat operator*(T const &amp;lhs, mat const &amp;rhs) noexcept</div><div class="ttdoc">Translate/Matrix multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:335</div></div>
<div class="ttc" id="aa03497_html_a2b8d85aef5976297128b048e3ed50bbf"><div class="ttname"><a href="a03497.html#a2b8d85aef5976297128b048e3ed50bbf">tt::mat::mat</a></div><div class="ttdeci">tt_force_inline mat(float i00, float i10, float i20, float i30, float i01, float i11, float i21, float i31, float i02, float i12, float i22, float i32, float i03, float i13, float i23, float i33)</div><div class="ttdoc">Construct a matrix from the individual values.</div><div class="ttdef"><b>Definition</b> mat.hpp:43</div></div>
<div class="ttc" id="aa03497_html_a2ec44060fa27de333aa13190699d2c1b"><div class="ttname"><a href="a03497.html#a2ec44060fa27de333aa13190699d2c1b">tt::mat::operator*</a></div><div class="ttdeci">friend mat operator*(mat const &amp;lhs, mat const &amp;rhs) noexcept</div><div class="ttdoc">Matrix/Matrix multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:323</div></div>
<div class="ttc" id="aa03497_html_a42555d2e440c64d17f484f342e1a9a9d"><div class="ttname"><a href="a03497.html#a42555d2e440c64d17f484f342e1a9a9d">tt::mat::I</a></div><div class="ttdeci">static mat I() noexcept</div><div class="ttdoc">Create an identity matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:482</div></div>
<div class="ttc" id="aa03497_html_a49db41c04e6ae06d290301102dc42a6d"><div class="ttname"><a href="a03497.html#a49db41c04e6ae06d290301102dc42a6d">tt::mat::operator~</a></div><div class="ttdeci">friend mat operator~(mat const &amp;rhs)</div><div class="ttdoc">Invert matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:348</div></div>
<div class="ttc" id="aa03497_html_a5a3bddf1f4dd7f4d336f08d3ac927215"><div class="ttname"><a href="a03497.html#a5a3bddf1f4dd7f4d336f08d3ac927215">tt::mat::shear</a></div><div class="ttdeci">static mat shear(float _00, float _01, float _10, float _11) noexcept</div><div class="ttdoc">Create a 2D shearing matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:521</div></div>
<div class="ttc" id="aa03497_html_a6242bbefa1fe6a14c636201a86cba994"><div class="ttname"><a href="a03497.html#a6242bbefa1fe6a14c636201a86cba994">tt::mat::R</a></div><div class="ttdeci">static mat R(T rhs) noexcept</div><div class="ttdoc">Create a rotation matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:532</div></div>
<div class="ttc" id="aa03497_html_a7609ea93b35c7c047e0d087ca2028feb"><div class="ttname"><a href="a03497.html#a7609ea93b35c7c047e0d087ca2028feb">tt::mat::mat</a></div><div class="ttdeci">tt_force_inline mat(vec col0, vec col1, vec col2, vec col3=vec{0.0f, 0.0f, 0.0f, 1.0f}) noexcept</div><div class="ttdoc">Create a matrix for 4 vector-columns.</div><div class="ttdef"><b>Definition</b> mat.hpp:35</div></div>
<div class="ttc" id="aa03497_html_a7688c7a49f85176994daeefc20c14ef0"><div class="ttname"><a href="a03497.html#a7688c7a49f85176994daeefc20c14ef0">tt::mat::mat</a></div><div class="ttdeci">tt_force_inline mat() noexcept</div><div class="ttdoc">Create an identity matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:27</div></div>
<div class="ttc" id="aa03497_html_a894fbef9c46a5c95416d05827553ae39"><div class="ttname"><a href="a03497.html#a894fbef9c46a5c95416d05827553ae39">tt::mat::is_z_rot90</a></div><div class="ttdeci">bool is_z_rot90() const noexcept</div><div class="ttdoc">Rotation around z axis is a multiple of 90 degree.</div><div class="ttdef"><b>Definition</b> mat.hpp:284</div></div>
<div class="ttc" id="aa03497_html_ac22ce0b727ded533ee54311c0d9f596b"><div class="ttname"><a href="a03497.html#ac22ce0b727ded533ee54311c0d9f596b">tt::mat::operator*</a></div><div class="ttdeci">tt_force_inline friend vec operator*(mat const &amp;lhs, vec const &amp;rhs) noexcept</div><div class="ttdoc">Matrix/Vector multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:293</div></div>
<div class="ttc" id="aa03497_html_ac6cd7a0724e46c82513873446adda5a0"><div class="ttname"><a href="a03497.html#ac6cd7a0724e46c82513873446adda5a0">tt::mat::align</a></div><div class="ttdeci">static mat::T align(aarect haystack, aarect needle, Alignment alignment) noexcept</div><div class="ttdoc">Align a rectangle within another rectangle.</div><div class="ttdef"><b>Definition</b> mat.hpp:552</div></div>
<div class="ttc" id="aa03497_html_ac8d84a0fe4c9f50737d7887727a2dc48"><div class="ttname"><a href="a03497.html#ac8d84a0fe4c9f50737d7887727a2dc48">tt::mat::operator*</a></div><div class="ttdeci">tt_force_inline friend rect operator*(mat const &amp;lhs, rect const &amp;rhs) noexcept</div><div class="ttdoc">Matrix/rect multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:312</div></div>
<div class="ttc" id="aa03497_html_acc5ff266bb6c181624ec2eb4085e2435"><div class="ttname"><a href="a03497.html#acc5ff266bb6c181624ec2eb4085e2435">tt::mat::transpose</a></div><div class="ttdeci">friend mat transpose(mat rhs) noexcept</div><div class="ttdoc">Matrix transpose.</div><div class="ttdef"><b>Definition</b> mat.hpp:341</div></div>
<div class="ttc" id="aa03497_html_ad90111e92ba0a0e2e5f593c63bc9e69c"><div class="ttname"><a href="a03497.html#ad90111e92ba0a0e2e5f593c63bc9e69c">tt::mat::operator*</a></div><div class="ttdeci">friend mat operator*(S const &amp;lhs, mat const &amp;rhs) noexcept</div><div class="ttdoc">Scale/Matrix multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:329</div></div>
<div class="ttc" id="aa03501_html"><div class="ttname"><a href="a03501.html">tt::mat::S</a></div><div class="ttdoc">Optimized scale matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:56</div></div>
<div class="ttc" id="aa03501_html_a2ec1987742c2d922985296f1186ba930"><div class="ttname"><a href="a03501.html#a2ec1987742c2d922985296f1186ba930">tt::mat::S::operator*</a></div><div class="ttdeci">tt_force_inline friend aarect operator*(S const &amp;lhs, aarect const &amp;rhs) noexcept</div><div class="ttdoc">Matrix/Vector multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:97</div></div>
<div class="ttc" id="aa03501_html_a6bf5740e41fff532c76d769b226d02a3"><div class="ttname"><a href="a03501.html#a6bf5740e41fff532c76d769b226d02a3">tt::mat::S::operator~</a></div><div class="ttdeci">friend S operator~(S const &amp;rhs) noexcept</div><div class="ttdoc">Invert matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:112</div></div>
<div class="ttc" id="aa03501_html_af637c595a4aa31ba3ae7939b1ce47d02"><div class="ttname"><a href="a03501.html#af637c595a4aa31ba3ae7939b1ce47d02">tt::mat::S::uniform2D</a></div><div class="ttdeci">static S uniform2D(vec haystack, vec needle) noexcept</div><div class="ttdoc">Get a scaling matrix to uniformly scale a needle to fit in the haystack.</div><div class="ttdef"><b>Definition</b> mat.hpp:70</div></div>
<div class="ttc" id="aa03505_html"><div class="ttname"><a href="a03505.html">tt::mat::T</a></div><div class="ttdoc">Optimized translate matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:119</div></div>
<div class="ttc" id="aa03505_html_a60daf5ae198634e0bd206678ce463faf"><div class="ttname"><a href="a03505.html#a60daf5ae198634e0bd206678ce463faf">tt::mat::T::operator*</a></div><div class="ttdeci">tt_force_inline friend rect operator*(T const &amp;lhs, aarect const &amp;rhs) noexcept</div><div class="ttdoc">Matrix/aarect multiplication.</div><div class="ttdef"><b>Definition</b> mat.hpp:157</div></div>
<div class="ttc" id="aa03505_html_a9e61969c778a5a42923cbde67ee94661"><div class="ttname"><a href="a03505.html#a9e61969c778a5a42923cbde67ee94661">tt::mat::T::operator~</a></div><div class="ttdeci">friend T operator~(T const &amp;rhs) noexcept</div><div class="ttdoc">Invert matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:177</div></div>
<div class="ttc" id="aa03509_html"><div class="ttname"><a href="a03509.html">tt::mat::T2</a></div><div class="ttdoc">Optimized 2D translate matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:184</div></div>
<div class="ttc" id="aa03509_html_a0a6547d952a9e2002563d2bfda1af0b1"><div class="ttname"><a href="a03509.html#a0a6547d952a9e2002563d2bfda1af0b1">tt::mat::T2::operator~</a></div><div class="ttdeci">friend T2 operator~(T2 const &amp;rhs) noexcept</div><div class="ttdoc">Invert matrix.</div><div class="ttdef"><b>Definition</b> mat.hpp:245</div></div>
<div class="ttc" id="aa03513_html"><div class="ttname"><a href="a03513.html">tt::is_mat</a></div><div class="ttdef"><b>Definition</b> mat.hpp:576</div></div>
<div class="ttc" id="aa03625_html"><div class="ttname"><a href="a03625.html">tt::rect</a></div><div class="ttdoc">Class which represents an axis-aligned rectangle.</div><div class="ttdef"><b>Definition</b> rect.hpp:15</div></div>
<div class="ttc" id="aa03625_html_a33fd1158736827efc2637b2c6daae863"><div class="ttname"><a href="a03625.html#a33fd1158736827efc2637b2c6daae863">tt::rect::corner</a></div><div class="ttdeci">tt_force_inline vec corner() const noexcept</div><div class="ttdoc">Get coordinate of a corner.</div><div class="ttdef"><b>Definition</b> rect.hpp:84</div></div>
<div class="ttc" id="aa04097_html"><div class="ttname"><a href="a04097.html">tt::vec</a></div><div class="ttdoc">A 4D vector.</div><div class="ttdef"><b>Definition</b> vec.hpp:37</div></div>
<div class="ttc" id="aa04097_html_a0685a30564991a0f179f63b859dd544f"><div class="ttname"><a href="a04097.html#a0685a30564991a0f179f63b859dd544f">tt::vec::point</a></div><div class="ttdeci">static tt_force_inline vec point(float x=0.0f, float y=0.0f, float z=0.0f) noexcept</div><div class="ttdoc">Create a point out of 2 to 4 values.</div><div class="ttdef"><b>Definition</b> vec.hpp:180</div></div>
<div class="ttc" id="abasic_ostream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::ostream</a></div></div>
<div class="ttc" id="abasic_string_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></div></div>
<div class="ttc" id="aintegral_constant_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::false_type</a></div></div>
<div class="ttc" id="amin_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/algorithm/min.html">std::min</a></div><div class="ttdeci">T min(T... args)</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 29 2023 19:35:17 for HikoGUI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
<script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
    primaryColor: '#f4f4ff',
    secondaryColor: 'rgba(244,244,255,0.9)',
    tertiaryColor: '#F9FAFC',
    },
});
</script>
</body>
</html>
</html>