<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HikoGUI: Building with Visual Studio</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="version_dropdown.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HikoGUI
   </div>
   <div id="projectbrief">A low latency retained GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Building with Visual Studio</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md76"></a>
Install requirements</h1>
<ul>
<li>The latest <b>Microsoft Visual Studio (Preview)</b> from <a href="https://visualstudio.microsoft.com/">https://visualstudio.microsoft.com/</a> with the following options installed:<ul>
<li>C++ core desktop features</li>
<li>C++ CMake tools</li>
<li>Test Adapter for Google Test</li>
<li>Windows 10 (or newer) SDK</li>
</ul>
</li>
<li><b>git</b> from: <a href="https://git-scm.com/">https://git-scm.com/</a></li>
<li>The <b>Vulkan SDK</b> from: <a href="https://www.lunarg.com/vulkan-sdk/">https://www.lunarg.com/vulkan-sdk/</a> with the following options installed:<ul>
<li>The Vulkan SDK Core (Always Installed)</li>
<li>Vulkan Memory Allocator header.</li>
</ul>
</li>
<li>optional: <b>RenderDoc</b> (for Vulkan debugging) from: <a href="https://renderdoc.org/">https://renderdoc.org/</a></li>
<li>optional: <b>Doxygen</b> (for documentation generation) from: <a href="https://www.doxygen.nl/">https://www.doxygen.nl/</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md77"></a>
Clone the HikoGUI project from github</h1>
<p>Clone the HikoGUI repository on your machine:</p>
<div class="fragment"><div class="line">git clone git@github.com:hikogui/hikogui.git</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md78"></a>
Building and running</h1>
<p>You can then open the <code>hikogui</code> directory as a <a href="https://docs.microsoft.com/en-us/visualstudio/ide/develop-code-in-visual-studio-without-projects-or-solutions?view=vs-2019">directory-based project</a> inside visual studio.</p>
<p>To build:</p><ol type="1">
<li>Select <code>x64-MSVC-Debug</code> from the project <code>Configuration</code> pull down menu.</li>
<li><code>Project / Generate Cache</code> menu option</li>
<li><code>Build / Build All</code> menu option</li>
<li>Select <code>hikogui_demo.exe</code> from the <code>Select Startup Item...</code> pull-down menu.</li>
<li>Select <code>Build Only</code> in the <code>Error List</code> window to ignore IntelliSense false positives.</li>
<li><code>Debug / Start Debugging</code></li>
</ol>
<p><em>Note: A "Window Security Alert" may show up, this is due to the RenderDoc API creating a network server so that the RenderDoc application can remotely communicate to the hikogui_demo application.</em></p>
<p>Other configurations that are possible to build:</p><ul>
<li><code>MSVC-x64-Debug</code> Make a debug build</li>
<li><code>MSVC-x64-RelWithDebInfo</code> Make an fully optimized build</li>
<li><code>MSVC-x64-Release</code> Make a fully optimized build and build all examples and demos.</li>
<li><code>MSVC-x64-Analysis</code> Build with static-analysis.</li>
</ul>
<p>Common build problems:</p><ul>
<li>When Visual Studio gets confused try deleting the CMake cache using the <code>Project / Delete Cache and Reconfigure</code> menu option.</li>
<li>If you get "permission denied", this may be due to a still running process like a hung hikogui_test.exe. Terminate that process using the Task Manager.</li>
<li>You may also get "permission denied" when during building a compiler-crash causes a file to be written without any permissions associated at all. This can be solved by rebooting the computer and followed by deleting the CMake cache.</li>
<li>The Test Explorer may get confused as well, try deleting the cache in: <code>hikogui\.vs\v17\TestStore\0\*.testlog</code>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md79"></a>
Building and running using the "x64 Developer Command Prompt"</h1>
<div class="fragment"><div class="line">cd hikogui</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line"> </div>
<div class="line">cmake .. -DCMAKE_VERBOSE_MAKEFILE=ON -DBUILD_SHARED_LIBS=OFF</div>
<div class="line"> </div>
<div class="line">cmake --build . --config Debug</div>
<div class="line"> </div>
<div class="line">cmake --install . --config Debug --prefix install</div>
</div><!-- fragment --><div class="fragment"><div class="line">install\tests\hikogui_tests.exe</div>
<div class="line"> </div>
<div class="line">install\examples\hikogui_demo\hikogui_demo.exe</div>
</div><!-- fragment --><p>_note: The "Developer PowerShell for VS 2022" always runs the x86 compiler which you can not use. Instead first start the "x64 native Tools Command Prompt
for VS 2022" then execute "start powershell" from there to get the correct compiler for x64."

@section autotoc_md80 Just-in-time debugging with Visual Studio

When a HikoGUI application hits a break-point while not running with a debugger
the Windows 10 CRT will try to start the just-in-time debugger as a fallback.

A common problem in Windows 10 are the missing registry entries for the
JIT-debugger to work.

The fix is to add a &lt;tt&gt;DWORD Value&lt;/tt&gt; of &lt;tt&gt;Auto&lt;/tt&gt;, with &lt;tt&gt;Value data&lt;/tt&gt; of &lt;tt&gt;1&lt;/tt&gt;, to the
following registry keys:
 * &lt;tt&gt;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\AeDebug&lt;/tt&gt; - DWORD "Auto" : Value (1)
 * &lt;tt&gt;HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\Microsoft\\Windows NT\\CurrentVersion\\AeDebug&lt;/tt&gt; - DWORD "Auto" : Value (1)

See &lt;a href="<a href="https://docs.microsoft.com/en-us/visualstudio/debugger/debug-using-the-just-in-time-debugger?view=vs-2022">https://docs.microsoft.com/en-us/visualstudio/debugger/debug-using-the-just-in-time-debugger?view=vs-2022</a>" &gt;Just in Time debugging.</p>
<p><em>Note due to bugs in IntelliSense you will get JIT-debugger prompts for Visual Studio itself. This does allow you to create crash-dumps for Visual Studio and its components to report bugs with Microsoft.</em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 29 2023 19:34:31 for HikoGUI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
<script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
    primaryColor: '#f4f4ff',
    secondaryColor: 'rgba(244,244,255,0.9)',
    tertiaryColor: '#F9FAFC',
    },
});
</script>
</body>
</html>
</html>