<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HikoGUI: v1::function_fifo&lt; Proto, SlotSize &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="version_dropdown.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HikoGUI
   </div>
   <div id="projectbrief">A low latency retained GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a02483.html">v1</a></li><li class="navelem"><a class="el" href="a05134.html">function_fifo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">v1::function_fifo&lt; Proto, SlotSize &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="a01430_source.html">hikogui/function_fifo.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acadcac1299646cd5709cb69a7488f347" id="r_acadcac1299646cd5709cb69a7488f347"><td class="memItemLeft" align="right" valign="top"><a id="acadcac1299646cd5709cb69a7488f347" name="acadcac1299646cd5709cb69a7488f347"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>function_fifo</b> (<a class="el" href="a05134.html">function_fifo</a> const &amp;)=delete</td></tr>
<tr class="separator:acadcac1299646cd5709cb69a7488f347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891c21e26883a4c2490d6557910a62a4" id="r_a891c21e26883a4c2490d6557910a62a4"><td class="memItemLeft" align="right" valign="top"><a id="a891c21e26883a4c2490d6557910a62a4" name="a891c21e26883a4c2490d6557910a62a4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>function_fifo</b> (<a class="el" href="a05134.html">function_fifo</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a891c21e26883a4c2490d6557910a62a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c074e9d58c09fb4dbbd34eeabcebe5c" id="r_a8c074e9d58c09fb4dbbd34eeabcebe5c"><td class="memItemLeft" align="right" valign="top"><a id="a8c074e9d58c09fb4dbbd34eeabcebe5c" name="a8c074e9d58c09fb4dbbd34eeabcebe5c"></a>
<a class="el" href="a05134.html">function_fifo</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="a05134.html">function_fifo</a> const &amp;)=delete</td></tr>
<tr class="separator:a8c074e9d58c09fb4dbbd34eeabcebe5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad11acab7d9ef7759328dfd4cd4925e5a" id="r_ad11acab7d9ef7759328dfd4cd4925e5a"><td class="memItemLeft" align="right" valign="top"><a id="ad11acab7d9ef7759328dfd4cd4925e5a" name="ad11acab7d9ef7759328dfd4cd4925e5a"></a>
<a class="el" href="a05134.html">function_fifo</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="a05134.html">function_fifo</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ad11acab7d9ef7759328dfd4cd4925e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac308fc1959829b8a74395c35d609a273" id="r_ac308fc1959829b8a74395c35d609a273"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a05134.html#ac308fc1959829b8a74395c35d609a273">empty</a> () const noexcept</td></tr>
<tr class="memdesc:ac308fc1959829b8a74395c35d609a273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are not functions added to the fifo.  <br /></td></tr>
<tr class="separator:ac308fc1959829b8a74395c35d609a273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cbd3d7c08d8caa6bd5aa49d5dd38ad" id="r_aa8cbd3d7c08d8caa6bd5aa49d5dd38ad"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:aa8cbd3d7c08d8caa6bd5aa49d5dd38ad"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a05134.html#aa8cbd3d7c08d8caa6bd5aa49d5dd38ad">run_one</a> (Args &amp;&amp;...args) noexcept</td></tr>
<tr class="memdesc:aa8cbd3d7c08d8caa6bd5aa49d5dd38ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run one of the function that was posted or send.  <br /></td></tr>
<tr class="separator:aa8cbd3d7c08d8caa6bd5aa49d5dd38ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e86063db83137d0af0a9a22ebb95c58" id="r_a0e86063db83137d0af0a9a22ebb95c58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a05134.html#a0e86063db83137d0af0a9a22ebb95c58">run_all</a> () noexcept</td></tr>
<tr class="memdesc:a0e86063db83137d0af0a9a22ebb95c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run all the functions posted or send on the fifo.  <br /></td></tr>
<tr class="separator:a0e86063db83137d0af0a9a22ebb95c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de261857d69a118b5baffbbcb77f404" id="r_a4de261857d69a118b5baffbbcb77f404"><td class="memTemplParams" colspan="2">template&lt;typename Func &gt; </td></tr>
<tr class="memitem:a4de261857d69a118b5baffbbcb77f404"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a05134.html#a4de261857d69a118b5baffbbcb77f404">add_function</a> (Func &amp;&amp;func) noexcept</td></tr>
<tr class="memdesc:a4de261857d69a118b5baffbbcb77f404"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously post a functor to the fifo to be executed later.  <br /></td></tr>
<tr class="separator:a4de261857d69a118b5baffbbcb77f404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7577b6236bf7c5a1ccf5913a7fe5376e" id="r_a7577b6236bf7c5a1ccf5913a7fe5376e"><td class="memTemplParams" colspan="2">template&lt;typename Func , typename... Args&gt; <br />
requires (std::is_invocable_v&lt;std::decay_t&lt;Func&gt;, std::decay_t&lt;Args&gt;...&gt;)</td></tr>
<tr class="memitem:a7577b6236bf7c5a1ccf5913a7fe5376e"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a05134.html#a7577b6236bf7c5a1ccf5913a7fe5376e">add_async_function</a> (Func &amp;&amp;func, Args &amp;&amp;...args) noexcept</td></tr>
<tr class="memdesc:a7577b6236bf7c5a1ccf5913a7fe5376e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously send a functor to the fifo to be executed later.  <br /></td></tr>
<tr class="separator:a7577b6236bf7c5a1ccf5913a7fe5376e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Proto = void(), <a class="elRef" href="http://en.cppreference.com/w/cpp/types/size_t.html">std::size_t</a> SlotSize = 64&gt;<br />
class v1::function_fifo&lt; Proto, SlotSize &gt;</div><p>A fifo (First-in, Firts-out) for asynchronous calls. </p>
<p>This fifo is used to handle asynchronous calls from an event-loop.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Proto</td><td>The <code><a class="elRef" href="http://en.cppreference.com/w/cpp/utility/functional/function.html">std::function</a></code> prototype. </td></tr>
    <tr><td class="paramname">SlotSize</td><td>The size in bytes of each slot. This determines the maximum number of functions that can be stored on the fifo and if functions can be completely stored on the fifo or are allocated on the heap. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7577b6236bf7c5a1ccf5913a7fe5376e" name="a7577b6236bf7c5a1ccf5913a7fe5376e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7577b6236bf7c5a1ccf5913a7fe5376e">&#9670;&#160;</a></span>add_async_function()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Proto  = void(), <a class="elRef" href="http://en.cppreference.com/w/cpp/types/size_t.html">std::size_t</a> SlotSize = 64&gt; </div>
<div class="memtemplate">
template&lt;typename Func , typename... Args&gt; <br />
requires (std::is_invocable_v&lt;std::decay_t&lt;Func&gt;, std::decay_t&lt;Args&gt;...&gt;)</div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="a05134.html">v1::function_fifo</a>&lt; Proto, SlotSize &gt;::add_async_function </td>
          <td>(</td>
          <td class="paramtype">Func &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asynchronously send a functor to the fifo to be executed later. </p>
<p>The function object and arguments are stored within the fifo and does not need allocation. However the <code><a class="elRef" href="http://en.cppreference.com/w/cpp/thread/promise.html">std::promise</a></code> object will allocate the return object on the heap as it must be shared with <code><a class="elRef" href="http://en.cppreference.com/w/cpp/thread/future.html">std::future</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>A function object. </td></tr>
    <tr><td class="paramname">args</td><td>The arguments to pass to the function when called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="elRef" href="http://en.cppreference.com/w/cpp/thread/future.html">std::future</a></code> with the result of <code>func</code>. The result type may be <code>void</code>. </dd></dl>

</div>
</div>
<a id="a4de261857d69a118b5baffbbcb77f404" name="a4de261857d69a118b5baffbbcb77f404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de261857d69a118b5baffbbcb77f404">&#9670;&#160;</a></span>add_function()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Proto  = void(), <a class="elRef" href="http://en.cppreference.com/w/cpp/types/size_t.html">std::size_t</a> SlotSize = 64&gt; </div>
<div class="memtemplate">
template&lt;typename Func &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a05134.html">v1::function_fifo</a>&lt; Proto, SlotSize &gt;::add_function </td>
          <td>(</td>
          <td class="paramtype">Func &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asynchronously post a functor to the fifo to be executed later. </p>
<p>The function object and arguments are stored within the fifo and does not need allocation.</p>
<dl class="section note"><dt>Note</dt><dd>wait-free if the function object and arguments fit in the message slot of the fifo. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>A function object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac308fc1959829b8a74395c35d609a273" name="ac308fc1959829b8a74395c35d609a273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac308fc1959829b8a74395c35d609a273">&#9670;&#160;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Proto  = void(), <a class="elRef" href="http://en.cppreference.com/w/cpp/types/size_t.html">std::size_t</a> SlotSize = 64&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a05134.html">v1::function_fifo</a>&lt; Proto, SlotSize &gt;::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there are not functions added to the fifo. </p>

</div>
</div>
<a id="a0e86063db83137d0af0a9a22ebb95c58" name="a0e86063db83137d0af0a9a22ebb95c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e86063db83137d0af0a9a22ebb95c58">&#9670;&#160;</a></span>run_all()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Proto  = void(), <a class="elRef" href="http://en.cppreference.com/w/cpp/types/size_t.html">std::size_t</a> SlotSize = 64&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a05134.html">v1::function_fifo</a>&lt; Proto, SlotSize &gt;::run_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run all the functions posted or send on the fifo. </p>
<p>This function calls <code><a class="el" href="a05134.html#aa8cbd3d7c08d8caa6bd5aa49d5dd38ad" title="Run one of the function that was posted or send.">run_one()</a></code> until the fifo is empty. </p>

</div>
</div>
<a id="aa8cbd3d7c08d8caa6bd5aa49d5dd38ad" name="aa8cbd3d7c08d8caa6bd5aa49d5dd38ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8cbd3d7c08d8caa6bd5aa49d5dd38ad">&#9670;&#160;</a></span>run_one()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Proto  = void(), <a class="elRef" href="http://en.cppreference.com/w/cpp/types/size_t.html">std::size_t</a> SlotSize = 64&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="a05134.html">v1::function_fifo</a>&lt; Proto, SlotSize &gt;::run_one </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run one of the function that was posted or send. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>One async function has been taken from the fifo and run. </td></tr>
    <tr><td class="paramname">false</td><td>The fifo was empty. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>hikogui/src/hikogui/<a class="el" href="a01430_source.html">function_fifo.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 29 2023 19:33:50 for HikoGUI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
<script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
    primaryColor: '#f4f4ff',
    secondaryColor: 'rgba(244,244,255,0.9)',
    tertiaryColor: '#F9FAFC',
    },
});
</script>
</body>
</html>
</html>