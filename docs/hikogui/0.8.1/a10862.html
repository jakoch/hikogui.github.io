<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HikoGUI: How to use widgets</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="version_dropdown.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HikoGUI
   </div>
   <div id="projectbrief">A low latency retained GUI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">How to use widgets</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md142"></a>
Creating Windows</h1>
<p>In the following example, a new window is created. First we need to create a <code><a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a></code> to a <code><a class="el" href="a07353.html" title="The top-level window widget.">hi::window_widget</a></code>, it accepts a label or txt as an argument for the title of the window. The label may contain both a translatable text and an icon.</p>
<p>Then we create a new window, this may be directly creates on the stack or on the heap, the window will take ownership of the <code><a class="el" href="a07353.html" title="The top-level window widget.">hi::window_widget</a></code>.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> widget = std::make_unique&lt;hi::window_widget&gt;(<a class="code hl_class" href="a05657.html">hi::txt</a>(<span class="stringliteral">&quot;The window title&quot;</span>));</div>
<div class="line"><span class="keyword">auto</span> window = hi::gui_window(<a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/utility/move.html">std::move</a>(widget));</div>
<div class="ttc" id="aa05657_html"><div class="ttname"><a href="a05657.html">hi::txt</a></div><div class="ttdoc">A localizable message.</div><div class="ttdef"><b>Definition</b> txt.hpp:100</div></div>
<div class="ttc" id="amove_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/utility/move.html">std::move</a></div><div class="ttdeci">T move(T... args)</div></div>
</div><!-- fragment --><p>Unlike many other GUI libraries, a window is not given a size; its initial, minimum and maximum size is determined by the constraints and the layout algorithm of the widgets being displayed in the window.</p>
<p>From the first construction of a <code>hi::gui_window</code>, any usage of the GUI system, its windows and their widgets must be done from the same thread, called the <code>main</code> thread.</p>
<p>After creating at least one window, you should call <code>hi::loop::main().resume()</code> member function. This function will enter the system's GUI-loop, monitor keyboard &amp; mouse events and render all the windows. Once all windows are closed the <code>resume()</code> function will return with a return code, which may be returned from the <code>main()</code> function.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="a00275.html#a9f2f94c8e6e41b902f1e944ce3a62508">hi_main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    hi::set_application_name(<span class="stringliteral">&quot;Hello World&quot;</span>);</div>
<div class="line">    hi::set_application_vendor(<span class="stringliteral">&quot;HikoGUI&quot;</span>);</div>
<div class="line">    hi::set_application_version({1, 0, 0});</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> widget = std::make_unique&lt;hi::window_widget&gt;(<a class="code hl_class" href="a05657.html">hi::txt</a>(<span class="stringliteral">&quot;The window title&quot;</span>));</div>
<div class="line">    widget-&gt;content().make_widget&lt;<a class="code hl_class" href="a07217.html">hi::momentary_button_widget</a>&gt;(<span class="stringliteral">&quot;A1&quot;</span>, <a class="code hl_class" href="a05657.html">hi::txt</a>(<span class="stringliteral">&quot;Does nothing&quot;</span>));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> window = std::make_unique&lt;hi::gui_window&gt;(<a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/utility/move.html">std::move</a>(widget));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> close_cb = window-&gt;closing.subscribe(</div>
<div class="line">        [&amp;] {</div>
<div class="line">            <span class="comment">// When the close button on the window is clicked this lambda</span></div>
<div class="line">            <span class="comment">// will destroy the actual window, which will in turn cause the</span></div>
<div class="line">            <span class="comment">// resume() function to exit.</span></div>
<div class="line">            window.reset();</div>
<div class="line">        },</div>
<div class="line">        hi::callback_flags::main);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> hi::loop::main().resume();</div>
<div class="line">}</div>
<div class="ttc" id="aa00275_html_a9f2f94c8e6e41b902f1e944ce3a62508"><div class="ttname"><a href="a00275.html#a9f2f94c8e6e41b902f1e944ce3a62508">hi_main</a></div><div class="ttdeci">int hi_main(int argc, char *argv[])</div><div class="ttdoc">Main entry-point.</div></div>
<div class="ttc" id="aa07217_html"><div class="ttname"><a href="a07217.html">hi::momentary_button_widget</a></div><div class="ttdoc">A momentary button widget.</div><div class="ttdef"><b>Definition</b> momentary_button_widget.hpp:19</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md143"></a>
How to add widgets</h1>
<p>Widget are graphical elements which are shown inside a window and often can be interacted with using the mouse and keyboard, such as various kinds of buttons, text fields and selection boxes.</p>
<p>Many widgets such as the grid layout widget, column layout widget or the scroll view widget are containers for other widgets. The top level widget of a window for example contains two containers a <code><a class="el" href="a07201.html" title="A GUI widget that lays out child-widgets in a grid with variable sized cells.">hi::grid_widget</a></code> for the content area and a <code><a class="el" href="a07337.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">hi::toolbar_widget</a></code>.</p>
<p>In the example below we are adding 4 widgets to the content area of the window.</p>
<p>The <code>hi::window::content()</code> function returns a reference to the <code><a class="el" href="a07201.html" title="A GUI widget that lays out child-widgets in a grid with variable sized cells.">hi::grid_widget</a></code>, and we use its <code>make_widget&lt;&gt;()</code> function to add new widgets. The template argument is the type of widget to instantiate and the first argument is the position within the grid widget. The rest of the arguments are passed to the constructor of the new widget.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="a00275.html#a9f2f94c8e6e41b902f1e944ce3a62508">hi_main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    observer&lt;int&gt; value = 0;</div>
<div class="line"> </div>
<div class="line">    set_application_name(<span class="stringliteral">&quot;Radio button example&quot;</span>);</div>
<div class="line">    set_application_vendor(<span class="stringliteral">&quot;HikoGUI&quot;</span>);</div>
<div class="line">    set_application_version({1, 0, 0});</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> widget = std::make_unique&lt;window_widget&gt;(txt(<span class="stringliteral">&quot;Radio button example&quot;</span>));</div>
<div class="line">    widget-&gt;content().make_widget&lt;label_widget&gt;(<span class="stringliteral">&quot;A1&quot;</span>, txt(<span class="stringliteral">&quot;radio buttons:&quot;</span>));</div>
<div class="line">    widget-&gt;content().make_widget&lt;radio_button_widget&gt;(<span class="stringliteral">&quot;B1&quot;</span>, value, 1, txt(<span class="stringliteral">&quot;one&quot;</span>));</div>
<div class="line">    widget-&gt;content().make_widget&lt;radio_button_widget&gt;(<span class="stringliteral">&quot;B2&quot;</span>, value, 2, txt(<span class="stringliteral">&quot;two&quot;</span>));</div>
<div class="line">    widget-&gt;content().make_widget&lt;radio_button_widget&gt;(<span class="stringliteral">&quot;B3&quot;</span>, value, 3, txt(<span class="stringliteral">&quot;three&quot;</span>));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> window = std::make_unique&lt;gui_window&gt;(<a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/utility/move.html">std::move</a>(widget));</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> close_cbt = window-&gt;closing.subscribe(</div>
<div class="line">        [&amp;] {</div>
<div class="line">            window.reset();</div>
<div class="line">        },</div>
<div class="line">        hi::callback_flags::main);</div>
<div class="line">    <span class="keywordflow">return</span> loop::main().resume();</div>
<div class="line">}</div>
</div><!-- fragment --><p>There are often two different ways to construct a widget: with a delegate or with an observer. In the example above we use an <code>hi::observer&lt;int&gt;</code> for the radio buttons to monitor and update. Sharing the same observer allows the radio buttons to act as a set.</p>
<h2><a class="anchor" id="autotoc_md144"></a>
Layout using the grid widget</h2>
<p>The <code><a class="el" href="a07201.html" title="A GUI widget that lays out child-widgets in a grid with variable sized cells.">hi::grid_widget</a></code> is a powerful layout widget which allows adding of new widgets using the <code>hi::grid_widget::make_widget&lt;&gt;()</code> member function.</p>
<p>The template parameter for <code>make_widget()</code> specifies the widget class to allocate and construct. The first argument to <code>make_widget()</code> is a string specifying the location where the new widget should be positioned. The rest of the arguments are passed to the constructor of the new widget.</p>
<p>The location is specified using a spreadsheet-like address.</p>
<p>There are two forms:</p>
<ul>
<li>single cell, examples: "A1", "C4", "AB45"</li>
<li>cell range, examples: "A1:E1", "C4:C7", "Z3:AA4"</li>
</ul>
<p>A widget may span multiple rows and columns. Widget that spans multiple column or rows are often widgets that are resizable; therefor the <code>grid_widget</code> will override the preferred- and maximum constraint of other widgets in those rows or columns.</p>
<h2><a class="anchor" id="autotoc_md145"></a>
Observer</h2>
<p>An observer is a type that observers a value, it will use callbacks to notify listeners when the observed value changes. Unlike other parts of the GUI system, observers are thread-save and may be read and written from any thread.</p>
<p>In the example below a checkbox monitors the observer <code>my_value</code>:</p>
<ul>
<li>when the value is <code>bar</code> the box is checked,</li>
<li>when the value is <code>foo</code> the box is unchecked,</li>
<li>when the value is anything else the box shows a dash.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> my_type {foo, bar, baz};</div>
<div class="line"> </div>
<div class="line">observer&lt;my_type&gt; my_value;</div>
<div class="line">widget-&gt;content().make_widget&lt;checkbox_widget&gt;(<span class="stringliteral">&quot;A1&quot;</span>, my_value, my_type::bar, my_type::foo);</div>
</div><!-- fragment --><p>As you can see, the <code>checkbox_widget</code> will work with custom types. For the checkbox the type needs to be equality comparable and assignable.</p>
<p>It is also possible to chain observers to each other. Chaining is done by assigning an observer to another observer. You can also get a chained sub-observer, selecting a member variable or the result of the index-operator from the observed value.</p>
<p>In the example below, we make another checkbox, but now it will listen to the <code>my_chain</code> observer. When <code>my_value</code> gets assigned to <code>my_chain</code>, <code>my_chain</code> will start observing <code>my_value</code>. Any modification of <code>my_value</code> will be observed by the checkbox through the chain of observers.</p>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> my_type {foo, bar, baz};</div>
<div class="line"> </div>
<div class="line">observer&lt;my_type&gt; my_value;</div>
<div class="line">observer&lt;my_type&gt; my_chain;</div>
<div class="line">widget-&gt;content().make_widget&lt;checkbox_widget&gt;(<span class="stringliteral">&quot;A1&quot;</span>, my_chain, my_type::bar, my_type::foo);</div>
<div class="line"> </div>
<div class="line">my_chain = my_value;</div>
<div class="line">my_value = my_type::bar;</div>
</div><!-- fragment --><p>Observers are used for many member variables of a widget, including the <code>hi::widget::enabled</code>, <code>hi::widget::visible</code> members and various labels.</p>
<h2><a class="anchor" id="autotoc_md146"></a>
Delegates</h2>
<p>A widget may also be controlled through a delegate object. The widget queries a delegate for the data to display and sends messages to the delegate when a user interacts with the widget.</p>
<p>Delegates are actually the primary way for controlling a widget, the <code>hi::observer</code> examples above are implemented by templated default-delegates.</p>
<p>In the example below, a user defined instance of <code>my_delegate</code> is passed to the constructor of the <code><a class="el" href="a02252.html#ae79c0c942846b177e441c19f754336df" title="Cast numeric values without loss of precision.">hi::checkbox_button</a></code>. <code>my_delegate</code> must inherit from <code><a class="el" href="a07185.html" title="A button delegate controls the state of a button widget.">hi::button_delegate</a></code>.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> delegate = std::make_shared&lt;my_delegate&gt;();</div>
<div class="line"><span class="keyword">auto</span> button = widget-&gt;make_widget&lt;checkbox_button&gt;(<span class="stringliteral">&quot;A1&quot;</span>, delegate));</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md147"></a>
A list of widgets</h1>
<ul>
<li><b>Simple widgets</b><ul>
<li><code><a class="el" href="a07317.html" title="A text widget.">hi::text_widget</a></code>: Displays, select and edit text.</li>
<li><code><a class="el" href="a07205.html" title="An simple GUI widget that displays an icon.">hi::icon_widget</a></code>: Displays a small image.</li>
<li><code><a class="el" href="a07209.html" title="The GUI widget displays and lays out text together with an icon.">hi::label_widget</a></code>: Lays out and displays text and a icon together.</li>
</ul>
</li>
<li><b>Container widgets</b><ul>
<li><code><a class="el" href="a07201.html" title="A GUI widget that lays out child-widgets in a grid with variable sized cells.">hi::grid_widget</a></code>: Lays out children in a grid of variable sized cells.</li>
<li><code><a class="el" href="a07229.html" title="A row/column widget lays out child widgets along a row or column.">hi::row_column_widget</a></code>: Lays out children in a row or column.</li>
<li><code><a class="el" href="a07273.html" title="A graphical element that shows only one of a predefined set of mutually exclusive child widgets.">hi::tab_widget</a></code>: Shows one child at a time.</li>
<li><code><a class="el" href="a07241.html" title="The scroll widget allows a content widget to be shown in less space than is required.">hi::scroll_widget</a></code>: Allows a larger child to be shown in less space.</li>
<li><code><a class="el" href="a07221.html" title="A GUI widget which may exist anywhere on a window overlaid above any other widget.">hi::overlay_widget</a></code>: Shows a child anywhere on the window, overlaying above any other widget.</li>
<li><code><a class="el" href="a07337.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">hi::toolbar_widget</a></code>: Lays out children in a toolbar.</li>
</ul>
</li>
<li><b>Buttons</b><ul>
<li><code><a class="el" href="a07217.html" title="A momentary button widget.">hi::momentary_button_widget</a></code>: A push button designed to be used with a callback function.</li>
<li><code><a class="el" href="a07329.html" title="A momentary button used as a child in the toolbar.">hi::toolbar_button_widget</a></code>: A push button designed to be used with a callback function. Specifically for use inside a <code><a class="el" href="a07337.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">hi::toolbar_widget</a></code>.</li>
<li><code><a class="el" href="a07325.html" title="A GUI widget that permits the user to make a binary choice.">hi::toggle_widget</a></code>: A button representing a binary choice and indiciating an immediate effect.</li>
<li><code><a class="el" href="a07197.html" title="A GUI widget that permits the user to make a binary choice.">hi::checkbox_widget</a></code>: A button representing a binary choice, but also being able to show a third 'other' state.</li>
<li><code><a class="el" href="a07225.html" title="A graphical control element that allows the user to choose only one of a predefined set of mutually e...">hi::radio_button_widget</a></code>: A button representing one out of mutually exclusive choices.</li>
<li><code><a class="el" href="a07333.html" title="A graphical control element that allows the user to choose only one of a predefined set of mutually e...">hi::toolbar_tab_button_widget</a></code>: A button representing one out of mutally exclusive tabs. Designed to control the <code><a class="el" href="a07273.html" title="A graphical element that shows only one of a predefined set of mutually exclusive child widgets.">hi::tab_widget</a></code>. For use inside a <code><a class="el" href="a07337.html" title="A toolbar widget is located at the top of a window and lays out its children horizontally.">hi::toolbar_widget</a></code>.</li>
<li><code><a class="el" href="a07213.html" title="A button that is part of a menu.">hi::menu_button_widget</a></code>: A button used inside menus.</li>
</ul>
</li>
<li><b>Misc</b><ul>
<li><code><a class="el" href="a07253.html" title="A graphical control element that allows the user to choose only one of a predefined set of mutually e...">hi::selection_widget</a></code>: A selection widget allows selecting one out of a set of choices.</li>
<li><code><a class="el" href="a07313.html" title="A single line text field.">hi::text_field_widget</a></code>: A text field widgets allows a user to type in a value of different types: <a class="elRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>, int, float, etc.</li>
<li><code><a class="el" href="a07353.html" title="The top-level window widget.">hi::window_widget</a></code>: A window widget is directly owned by a window.</li>
<li><code><a class="el" href="a02252.html#ae79c0c942846b177e441c19f754336df" title="Cast numeric values without loss of precision.">hi::window_traffic_light_widget</a></code>: This widget displays the minimize, maximize and close button of a window.</li>
<li><code><a class="el" href="a07237.html" title="Scroll bar widget This widget is used in a pair of a vertical and horizontal scrollbar as a child of ...">hi::scroll_bar_widget</a></code>: This widget shows a scroll-bar and is part of a <code>scroll_widget</code>.</li>
<li><code><a class="el" href="a07261.html" title="The system menu widget.">hi::system_menu_widget</a></code>: The system menu is a logo to show for the window and also is the mouse target for the system-menu that every window has in Windows 10. </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 29 2023 19:34:25 for HikoGUI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
<script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
    primaryColor: '#f4f4ff',
    secondaryColor: 'rgba(244,244,255,0.9)',
    tertiaryColor: '#F9FAFC',
    },
});
</script>
</body>
</html>
</html>